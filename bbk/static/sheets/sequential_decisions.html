<!DOCTYPE html>
  <meta charset="utf-8"/>
  <head>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../fonts.css">
    <script src="../pdfjs/build/pdf.js"></script>
  </head>
  <body>
    <div class="header">
      <span class="listing no-border" id="header-trademark-and-title">
        <img id="header-trademark" src="../trademark.jpg" onclick="location.href='../index.html'">
        <span id="header-title" onclick="location.href='./sequential_decisions.pdf#page=2'"> Sequential Decisions </span>
      </span>
    </div>
    <div class="subheader">
      <div disabled class="need label"> Links: </div>
      <div class="need" tabindex="0" onclick="location.href='./sequential_decisions.pdf#page=2'" onkeypress="location.href='./sequential_decisions.pdf#page=2'">
        <span> Sheet PDF </span>
        <span class="caret">›</span>
      </div>
      <div class="need" tabindex="0" onclick="location.href='./sequential_decisions-graph.pdf'" onkeypress="location.href='./sequential_decisions-graph.pdf'">
        <span> Graph PDF </span>
        <span class="caret">›</span>
      </div>
      
        <div disabled class="need label"> Needs: </div>
        
            <div class="need" tabindex="0" onclick="location.href='./decisions.html'" onkeypress="location.href='./decisions.html'">
              <span>
                Decisions
              </span>
              <span class="caret">›</span>
            </div>
        
            <div class="need" tabindex="0" onclick="location.href='./sequences.html'" onkeypress="location.href='./sequences.html'">
              <span>
                Sequences
              </span>
              <span class="caret">›</span>
            </div>
        
      
      
        <div disabled class="need label"> Needed by: </div>
        
          <div class="need" tabindex="0" onclick="location.href='./state_representations.html'" onkeypress="location.href='./state_representations.html'">
            <span>
            State Representations
            </span>
            <span class="caret">›</span>
          </div>
        
      
    </div>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {Augment: {
    Definitions: {macros: {nicefrac: 'XFrac'}},
    Parse: {prototype: {
      XFrac: function (name) {
        var num = this.ParseArg(name);
        var den = this.ParseArg(name);
        this.Push(MathJax.ElementJax.mml.mfrac(num,den).With({bevelled: true}));
      }
    }}
  }}
});
</script>
    <script>
      MathJax = {
        loader: {load: ['[tex]/mathtools', '[tex]/upgreek', '[tex]/physics']},
        tex: {
          inlineMath: [
              ['\\(', '\\)'],
              ['$', '$']
            ],
          displayMath: [
              ['$$', '$$'],
              ['\\[', '\\]']
            ],
          macros: {
                  powerset: ["2^{#1}", 1],
                  CV: "\\mathcal{V}",
                  ceil: ["\\lceil #1 \\rceil", 1],
                  num: ["\\abs{#1}",1],
                  R: ["\\mathbfsf{R}"],
                  Z: ["\\mathbfsf{Z}"],
                  N: ["\\mathbfsf{N}"],
                  Q: ["\\mathbfsf{Q}"],
                  S: ["\\mathbfsf{S}"],
                  F: ["\\mathbfsf{F}"],
                  aff: ["\\mathsf{aff}"],
          },
          packages: {'[+]': ['mathtools', 'upgreek', 'physics']},
        },
      };
    </script>
    <script src="../mathjax/polyfill.min.js"></script>
    <script id="MathJax-script" async src="../mathjax/tex-mml-chtml.js"></script>
    <!--
      <link rel="stylesheet" href="../katex/katex.min.css">
      <script src="../katex/katex.min.js"></script>
      <script src="../katex/auto-render.min.js"></script>
      <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(
          document.body,
          {
            delimiters: [
              {left: "$$", right: "$$", display: true},
              {left: "$", right: "$", display: false},
            ],
          },
        );
      });
    </script>
    -->
    <script src="../cytoscape/cytoscape.min.js"></script>

    <div id="sheet-card" class="card">
      <div class="sheet-listing" id="why"><h1 class="sheet">1. Why</h1></div><div class="sheet-listing"><p class="sheet"> We want to discuss making several decisions over time.</p></div><div class="sheet-listing" id="definition"><h1 class="sheet">2. Definition</h1></div><div class="sheet-listing"><p class="sheet"> Let $A^{1}$ be a set of actions and $\CO^1 = \set{O^{1}_a}$ a family of outcome sets. Define $H^1 = \Set*{(a, o)}{a \in A^1, o \in O^{1}_a}$. Let $\CA^2 = \set{A^{2}_{h^1}}_{h^1 \in H^1}$ be a family of action sets. Define \[ \tilde{H}^{2} = \Set*{(a_1, o_1, a_2)}{(a_1, o_1) \in H^1, a_2 \in A^{2}_{a_1o_1}}. \] Let $\CO^2 = \set{O^{2}_{h}}_{h \in \tilde{H}^2}$ be a family of outcome sets. Define \[ H^2 = \Set{(a_1, o_1, a_2, o_2)}{h = (a_1, o_1, a_2) \in \tilde{H}^2, o_2 \in O_{h}}. \] Let $\preceq$ be a total order on $H^2$. Then we call the sequence $((A^1, \CA^2), (\CO^1, \CO^2), \preceq)$ a \t{two-stage decision problem}.</p></div><div class="sheet-listing"><p class="sheet"> In general, let $\CA^{i} = \set{A^i_{h}}_{h \in H^{i-1}}$ be a family of action sets, define $\tilde{H}^i$ by \[ \Set*{(a_1, \dots, o_{i-1}, a_i)}{h = (a_1, \dots, o_{i-1}) \in H^{i-1}, a_i \in A^i_{h}}. \] Let $\CO^{i+1} = \set{O^{i+1}_{h}}_{h \in \tilde{H}^{i}}$ be a family of outcome sets. Define $H^{i}$ by \[ \Set*{(a_1, \dots, a_i, o_i)}{h = (a_1, \dots, a_i) \in \tilde{H}^{i}, o_i \in O^i_{h}}. \] For $i = 3, \dots, n$. Let $\preceq$ be a total order on $H^{n}$. We call $H^i$ the \t{histories until time $i$}. In this case we identify $\CA^1 = A^1$ and call $((\CA^i)_{i = 1}^{n}, (\CO^i)_{i = 1}^{n}, \preceq)$ an \t{$n$-stage decision problem} (or \t{multi-stage decision problem} or \t{sequential decision problem}).\footnote{Future editions will clarify these definitions.}</p></div><div class="sheet-listing"><h2 class="sheet" id="simplifications">2.1 Simplifications</h2></div><div class="sheet-listing"><p class="sheet"> Discussing $n$-stage decision problems is complicated, as the notation indicates. How can we simplify thinking about them?</p></div><div class="sheet-listing"><p class="sheet"> One simplification occurs when the outcome sets at stage $i$ do not depend on the action taken, or on the history of actions. In this case, we may discuss outcome sets $O^i$ for $i = 1, \dots, n$.</p></div><div class="sheet-listing"><p class="sheet"> Another simplification occurs when the decisions to be made at each stage do not depend on the action taken or on the history of actions. In this case, we may discuss action sets $A^i$ for $i = 1, \dots, n$.</p></div><div class="sheet-listing"><p class="sheet"> An even greater simplification occurs when the outcome and actions sets do not depend on the stage $i$. In this case, we speak of <i>the} action set and \textit{the</i> outcome set.</p></div><div class="sheet-listing" id="state}\footnote{future_editions_will_move_this_to_\sheetref{state_representations}{state_representations}."><h1 class="sheet">3. State}\footnote{Future editions will move this to \sheetref{state_representations}{State Representations}.</h1></div><div class="sheet-listing"><p class="sheet"> Often we can summarize the history $H^i$ with a set $\CX_i$. In this case, we speak of the set of states $S_i$ for $i = 1, \dots, n$. In this case, we can associate the history $H^1$ with an element of $S^1$. We can associate the history $H^2$ with an element of $S^2$. And so on.</p></div><div class="sheet-listing"><p class="sheet"> Naturally, the current action affects the future states, but not the current or past states, since the state is a "summary} of the history, of the \say{past}.\footnote{Other language includes \say{sufficient statistic}, but we will avoid this for now. Future sheets may modify."</p></div><div class="sheet-listing"><p class="sheet"> In this way, the state is a "link} between the \say{past} and the \say{future."</p></div><div class="sheet-listing"><p class="sheet"> The idea is that the current action affects the future state, but not current or past states. The \t Often our decisions do not depend so much on</p></div>
    </div>

    <div style="display: flex; flex-direction: row; justify-content: center; flex-wrap: wrap">

    <div id="wrapper1">
      <canvas id="page1" style="direction: ltr;"></canvas>
    </div>
    <div id="wrapper2">
      <canvas id="page2" style="direction: ltr;"></canvas>
    </div>
    <div id="wrapper3">
    <canvas id="page3" style="direction: ltr;" onclick="location.href='./sequential_decisions-graph.pdf'"></canvas>
    </div>
      <script id="script">
        // If absolute URL from the remote server is provided, configure the CORS
        // header on that server.
        var url = './sequential_decisions.pdf';

        // The workerSrc property shall be specified.
        pdfjsLib.GlobalWorkerOptions.workerSrc =
          '../pdfjs/build/pdf.worker.js';

        var PRINT_RESOLUTION = 300;

        function render(page, wrapper, canvas) {
          var scale = 7;
          var viewport = page.getViewport({scale: scale});
          var context = canvas.getContext('2d');

          canvas.width = viewport.width;
          canvas.height = viewport.height;
          canvas.style.width = "100%";
          canvas.style.height = "100%";
          wrapper.style.width = Math.floor(viewport.width/scale) + 'pt';
          wrapper.style.height = Math.floor(viewport.height/scale) + 'pt';

          // see https://stackoverflow.com/questions/37861686/pdfjs-blurry-pdf-on-ipad
          // who knows if this works...
          context.imageSmoothingEnabled = false;
          context.webkitImageSmoothingEnabled = false;
          context.mozImageSmoothingEnabled = false;
          context.oImageSmoothingEnabled = false;

          /*

          if (window.devicePixelRatio > 1) {
            var canvasWidth = canvas.width;
            var canvasHeight = canvas.height;

            canvas.width = canvasWidth * window.devicePixelRatio;
            canvas.height = canvasHeight * window.devicePixelRatio;
            canvas.style.width = canvasWidth + "px";
            canvas.style.height = canvasHeight + "px";

            context.scale(window.devicePixelRatio, window.devicePixelRatio);
          }
          //end see
          */

          var renderContext = {
            canvasContext: context,
            viewport: viewport
          };
          page.render(renderContext);
        }

        // Asynchronous download PDF
        var loadingTask = pdfjsLib.getDocument(url);
        loadingTask.promise.then(function(pdf) {

          // Fetch the first page
          pdf.getPage(2).then(function(page) {
              render(page, document.getElementById('wrapper1'), document.getElementById('page1'));
          });

          // Fetch the second page
          pdf.getPage(3).then(function(page) {
            render(page, document.getElementById('wrapper2'), document.getElementById('page2'));
          });

          // Fetch the third page
          pdf.getPage(4).then(function(page) {
            render(page, document.getElementById('wrapper3'), document.getElementById('page3'));
          });
        });
      </script>

    <!-- PAGES -->
    <!--
    <iframe id="sheet-pdf" src="./sequential_decisions.pdf#page=2">
    </iframe>
    <iframe id="sheet-pdf" src="./sequential_decisions.pdf#page=3">
    </iframe>
    -->
    <!-- PAGES -->

    </div>

    <!-- <iframe id="graph-pdf" src="./sequential_decisions-graph.pdf">
    </iframe>
    -->

    <span>
\(\DeclarePairedDelimiterX{\Set}[2]{\{}{\}}{#1 \nonscript\;\delimsize\vert\nonscript\; #2}\)
\( \DeclarePairedDelimiter{\set}{\{}{\}}\)
\(\DeclarePairedDelimiterX{\innerproduct}[1]{\langle}{\rangle}{#1}\)
\(\newcommand{\ip}[1]{\innerproduct{#1}}\)
    </span>

  

  <!--
  <div id="cy" style="height:1000px;width:1000px;">
  </div>
    <script>
      var cy = cytoscape({
        container: document.getElementById('cy'), // container to render in
                elements: [ // list of graph elements to start with
                            { // node a
                                          data: { id: 'a' }
                                        },
                            { // node b
                                          data: { id: 'b' }
                                        },
                            { // edge ab
                                          data: { id: 'ab', source: 'a', target: 'b' }
                                        }
                          ],

                style: [ // the stylesheet for the graph
                            {
                                          selector: 'node',
                                          style: {
                                                          'background-color': '#666',
                                                          'label': 'data(id)'
                                                        }
                                        },

                            {
                                          selector: 'edge',
                                          style: {
                                                          'width': 3,
                                                          'line-color': '#ccc',
                                                          'target-arrow-color': '#ccc',
                                                          'target-arrow-shape': 'triangle',
                                                          'curve-style': 'bezier'
                                                        }
                                        }
                          ],

                layout: {
                            name: 'grid',
                            rows: 1
                          }

      });
    </script>
    -->


    <span id="footer">
      Copyright 2022 The Bourbaki Authors. Version 7e853e427.
    </span>
  </body>
</html>
