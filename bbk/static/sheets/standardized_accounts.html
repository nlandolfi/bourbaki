<!DOCTYPE html>
  <meta charset="utf-8"/>
  <head>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../fonts.css">
    <script src="../pdfjs/build/pdf.js"></script>
  </head>
  <body>
    <div class="header">
      <span class="listing no-border" id="header-trademark-and-title">
        <img id="header-trademark" src="../trademark.jpg" onclick="location.href='../index.html'">
        <span id="header-title" onclick="location.href='./standardized_accounts.pdf#page=2'"> Standardized Accounts </span>
      </span>
    </div>
    <div class="subheader">
      <div disabled class="need label"> Links: </div>
      <div class="need" tabindex="0" onclick="location.href='./standardized_accounts.pdf#page=2'" onkeypress="location.href='./standardized_accounts.pdf#page=2'">
        <span> Sheet PDF </span>
        <span class="caret">›</span>
      </div>
      <div class="need" tabindex="0" onclick="location.href='./standardized_accounts-graph.pdf'" onkeypress="location.href='./standardized_accounts-graph.pdf'">
        <span> Graph PDF </span>
        <span class="caret">›</span>
      </div>
      
        <div disabled class="need label"> Needs: </div>
        
            <div class="need" tabindex="0" onclick="location.href='./accounts.html'" onkeypress="location.href='./accounts.html'">
              <span>
                Accounts
              </span>
              <span class="caret">›</span>
            </div>
        
      
      
        <div disabled class="need label"> Needed by: </div>
        
          <div class="need" tabindex="0" onclick="location.href='./set_inclusion.html'" onkeypress="location.href='./set_inclusion.html'">
            <span>
            Set Inclusion
            </span>
            <span class="caret">›</span>
          </div>
        
      
    </div>

      <link rel="stylesheet" href="../katex/katex.min.css">
      <script src="../katex/katex.min.js"></script>
      <script src="../katex/auto-render.min.js"></script>
      <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(
          document.body,
          {
            delimiters: [
              {left: "$$", right: "$$", display: true},
              {left: "$", right: "$", display: false},
            ],
          },
        );
      });
    </script>
    <div id="sheet-card" class="card">
      <div class="sheet-listing"><p class="sheet"> \s{Why}</p></div><div class="sheet-listing"><p class="sheet"> We want to do our best to have only one way to write accounts.\footnote{This sheet has to do with using a standard (perhaps formal) language through the project. We have not done so for the first edition. We have included this sheet to indicate how this might be done, and some typesetting ideas for future ideas.}</p></div><div class="sheet-listing"><p class="sheet"> \s{Definition}</p></div><div class="sheet-listing"><p class="sheet"> A \t{standard account}\footnote{This sheet will be expanded in future editions.} lists all names, then lists all premisses, then lists all conclusions.</p></div><div class="sheet-listing"><p class="sheet"> \s{Example}</p></div><div class="sheet-listing"><p class="sheet"> Consider the account.</p></div><div class="sheet-listing"><p class="sheet"> \begin{account}[First Example] \name{$a$} \name{$b$} \have{standardized_accounts:firstexample:equality}{$a = b$} \name{$c$} \have{standardized_accounts:firstexample:secondequality}{$c = b$} \thus{standardized_accounts:firstexample:thirdequality}{$a = c$}{\ref{standardized_accounts:firstexample:equality},\ref{standardized_accounts:firstexample:secondequality}} \end{account}</p></div><div class="sheet-listing"><p class="sheet"> \clearpage \begin{account}[Standardized First Example] \name{$a$} \name{$b$} \name{$c$} \have{standardized_accounts:stdfirstexample:equality}{$a = b$} \have{standardized_accounts:stdfirstexample:secondequality}{$c = b$} \thus{standardized_accounts:stdfirstexample:thirdequality}{$a = c$}{\ref{standardized_accounts:stdfirstexample:equality},\ref{standardized_accounts:stdfirstexample:secondequality}} \end{account}</p></div><div class="sheet-listing"><p class="sheet"> We can abbreviate the names:</p></div><div class="sheet-listing"><p class="sheet"> \begin{account}[Abbreviated First Example] \nameee{$a$}{$b$}{$c$} \have{standardized_accounts:abrfirstexample:equality}{$a = b$} \have{standardized_accounts:abrfirstexample:secondequality}{$c = b$} \thus{standardized_accounts:abrfirstexample:thirdequality}{$a = c$}{\ref{standardized_accounts:abrfirstexample:equality},\ref{standardized_accounts:abrfirstexample:secondequality},IdentityAxioms:1} \end{account}</p></div>
    </div>

    <div style="display: flex; flex-direction: row; justify-content: center; flex-wrap: wrap">

    <div id="wrapper1">
      <canvas id="page1" style="direction: ltr;"></canvas>
    </div>
    <div id="wrapper2">
      <canvas id="page2" style="direction: ltr;"></canvas>
    </div>
    <div id="wrapper3">
    <canvas id="page3" style="direction: ltr;" onclick="location.href='./standardized_accounts-graph.pdf'"></canvas>
    </div>
      <script id="script">
        // If absolute URL from the remote server is provided, configure the CORS
        // header on that server.
        var url = './standardized_accounts.pdf';

        // The workerSrc property shall be specified.
        pdfjsLib.GlobalWorkerOptions.workerSrc =
          '../pdfjs/build/pdf.worker.js';

        var PRINT_RESOLUTION = 300;

        function render(page, wrapper, canvas) {
          var scale = 7;
          var viewport = page.getViewport({scale: scale});
          var context = canvas.getContext('2d');

          canvas.width = viewport.width;
          canvas.height = viewport.height;
          canvas.style.width = "100%";
          canvas.style.height = "100%";
          wrapper.style.width = Math.floor(viewport.width/scale) + 'pt';
          wrapper.style.height = Math.floor(viewport.height/scale) + 'pt';

          // see https://stackoverflow.com/questions/37861686/pdfjs-blurry-pdf-on-ipad
          // who knows if this works...
          context.imageSmoothingEnabled = false;
          context.webkitImageSmoothingEnabled = false;
          context.mozImageSmoothingEnabled = false;
          context.oImageSmoothingEnabled = false;

          /*

          if (window.devicePixelRatio > 1) {
            var canvasWidth = canvas.width;
            var canvasHeight = canvas.height;

            canvas.width = canvasWidth * window.devicePixelRatio;
            canvas.height = canvasHeight * window.devicePixelRatio;
            canvas.style.width = canvasWidth + "px";
            canvas.style.height = canvasHeight + "px";

            context.scale(window.devicePixelRatio, window.devicePixelRatio);
          }
          //end see
          */

          var renderContext = {
            canvasContext: context,
            viewport: viewport
          };
          page.render(renderContext);
        }

        // Asynchronous download PDF
        var loadingTask = pdfjsLib.getDocument(url);
        loadingTask.promise.then(function(pdf) {

          // Fetch the first page
          pdf.getPage(2).then(function(page) {
              render(page, document.getElementById('wrapper1'), document.getElementById('page1'));
          });

          // Fetch the second page
          pdf.getPage(3).then(function(page) {
            render(page, document.getElementById('wrapper2'), document.getElementById('page2'));
          });

          // Fetch the third page
          pdf.getPage(4).then(function(page) {
            render(page, document.getElementById('wrapper3'), document.getElementById('page3'));
          });
        });
      </script>

    <!-- PAGES -->
    <!--
    <iframe id="sheet-pdf" src="./standardized_accounts.pdf#page=2">
    </iframe>
    <iframe id="sheet-pdf" src="./standardized_accounts.pdf#page=3">
    </iframe>
    -->
    <!-- PAGES -->

    </div>

    <!-- <iframe id="graph-pdf" src="./standardized_accounts-graph.pdf">
    </iframe>
    -->

    <span id="footer">
      Copyright 2022 The Bourbaki Authors. Version 0967680a5.
    </span>
  </body>
</html>
