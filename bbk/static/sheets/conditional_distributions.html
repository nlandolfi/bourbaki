<!DOCTYPE html>
  <meta charset="utf-8"/>
  <head>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../fonts.css">
    <script src="../pdfjs/build/pdf.js"></script>
  </head>
  <body>
    <div class="header">
      <span class="listing no-border" id="header-trademark-and-title">
        <img id="header-trademark" src="../trademark.jpg" onclick="location.href='../index.html'">
        <span id="header-title" onclick="location.href='./conditional_distributions.pdf#page=2'"> Conditional Distributions </span>
      </span>
    </div>
    <div class="subheader">
      <div disabled class="need label"> Links: </div>
      <div class="need" tabindex="0" onclick="location.href='./conditional_distributions.pdf#page=2'" onkeypress="location.href='./conditional_distributions.pdf#page=2'">
        <span> Sheet PDF </span>
        <span class="caret">›</span>
      </div>
      <div class="need" tabindex="0" onclick="location.href='./conditional_distributions-graph.pdf'" onkeypress="location.href='./conditional_distributions-graph.pdf'">
        <span> Graph PDF </span>
        <span class="caret">›</span>
      </div>
      
        <div disabled class="need label"> Needs: </div>
        
            <div class="need" tabindex="0" onclick="location.href='./conditional_event_probability.html'" onkeypress="location.href='./conditional_event_probability.html'">
              <span>
                Conditional Event Probability
              </span>
              <span class="caret">›</span>
            </div>
        
            <div class="need" tabindex="0" onclick="location.href='./marginal_distributions.html'" onkeypress="location.href='./marginal_distributions.html'">
              <span>
                Marginal Distributions
              </span>
              <span class="caret">›</span>
            </div>
        
      
      
        <div disabled class="need label"> Needed by: </div>
        
          <div class="need" tabindex="0" onclick="location.href='./conditional_densities.html'" onkeypress="location.href='./conditional_densities.html'">
            <span>
            Conditional Densities
            </span>
            <span class="caret">›</span>
          </div>
        
          <div class="need" tabindex="0" onclick="location.href='./expectation_maximization.html'" onkeypress="location.href='./expectation_maximization.html'">
            <span>
            Expectation Maximization
            </span>
            <span class="caret">›</span>
          </div>
        
          <div class="need" tabindex="0" onclick="location.href='./memory_chains.html'" onkeypress="location.href='./memory_chains.html'">
            <span>
            Memory Chains
            </span>
            <span class="caret">›</span>
          </div>
        
          <div class="need" tabindex="0" onclick="location.href='./rooted_tree_distributions.html'" onkeypress="location.href='./rooted_tree_distributions.html'">
            <span>
            Rooted Tree Distributions
            </span>
            <span class="caret">›</span>
          </div>
        
      
    </div>

      <link rel="stylesheet" href="../katex/katex.min.css">
      <script src="../katex/katex.min.js"></script>
      <script src="../katex/auto-render.min.js"></script>
      <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(
          document.body,
          {
            delimiters: [
              {left: "$$", right: "$$", display: true},
              {left: "$", right: "$", display: false},
            ],
          },
        );
      });
    </script>
    <div id="sheet-card" class="card">
      <div class="sheet-listing" id="why"><h1 class="sheet">1. Why</h1></div><div class="sheet-listing"><p class="sheet"> Conditioning defines a new distribution on the set of outcomes.</p></div><div class="sheet-listing" id="definition"><h1 class="sheet">2. Definition</h1></div><div class="sheet-listing"><p class="sheet"> The conditional probability of any two events defines a new probability mass function over the set of outcomes which is in the second event. The conditional probability of an outcome is the probability of the second event divided into the original probability of the outcome.</p></div><div class="sheet-listing" id="notation"><h1 class="sheet">3. Notation</h1></div><div class="sheet-listing"><p class="sheet"> Let $p$ be a probability mass function on the set of outcomes $A$ with the corresponding event probability function $\PE$. Then the distribution conditioned on $B$ is $q: A \to \R$, defined by \[ q(a) = \begin{cases} \frac{p(a)}{\PE(B)} & \text{ if } a \in B \\ 0 & \text{ otherwise }. \end{cases} \] In other words, \[ \PE_{A, p}(C \mid B) = \PE_{A,q}(C) \]</p></div><div class="sheet-listing" id="generally}\footnote{future_editions_will_rework_this_sheet."><h1 class="sheet">4. Generally}\footnote{Future editions will rework this sheet.</h1></div><div class="sheet-listing"><p class="sheet"> Let $A_1, \dots, A_n$ be a sequence of non-empty finite sets. Let $A = \prod_{i = 1}^{n} A_i$. Let $p: A \to \R$ be a distribution on $A$. We denote the conditional distribution of $i$ on $j$ of $p$ by $p_{i \mid j}: A_i \times A_j \to R$ For $i,j = 1, \dots, n$ and $i \neq j$, $p_i$ satisifes \[ p_{i \mid j}(b, c)p_{j}(c) = p_{ij}(b, c) \] for every $b \in A_i$ and $c \in A_j$.</p></div>
    </div>

    <div style="display: flex; flex-direction: row; justify-content: center; flex-wrap: wrap">

    <div id="wrapper1">
      <canvas id="page1" style="direction: ltr;"></canvas>
    </div>
    <div id="wrapper2">
      <canvas id="page2" style="direction: ltr;"></canvas>
    </div>
    <div id="wrapper3">
    <canvas id="page3" style="direction: ltr;" onclick="location.href='./conditional_distributions-graph.pdf'"></canvas>
    </div>
      <script id="script">
        // If absolute URL from the remote server is provided, configure the CORS
        // header on that server.
        var url = './conditional_distributions.pdf';

        // The workerSrc property shall be specified.
        pdfjsLib.GlobalWorkerOptions.workerSrc =
          '../pdfjs/build/pdf.worker.js';

        var PRINT_RESOLUTION = 300;

        function render(page, wrapper, canvas) {
          var scale = 7;
          var viewport = page.getViewport({scale: scale});
          var context = canvas.getContext('2d');

          canvas.width = viewport.width;
          canvas.height = viewport.height;
          canvas.style.width = "100%";
          canvas.style.height = "100%";
          wrapper.style.width = Math.floor(viewport.width/scale) + 'pt';
          wrapper.style.height = Math.floor(viewport.height/scale) + 'pt';

          // see https://stackoverflow.com/questions/37861686/pdfjs-blurry-pdf-on-ipad
          // who knows if this works...
          context.imageSmoothingEnabled = false;
          context.webkitImageSmoothingEnabled = false;
          context.mozImageSmoothingEnabled = false;
          context.oImageSmoothingEnabled = false;

          /*

          if (window.devicePixelRatio > 1) {
            var canvasWidth = canvas.width;
            var canvasHeight = canvas.height;

            canvas.width = canvasWidth * window.devicePixelRatio;
            canvas.height = canvasHeight * window.devicePixelRatio;
            canvas.style.width = canvasWidth + "px";
            canvas.style.height = canvasHeight + "px";

            context.scale(window.devicePixelRatio, window.devicePixelRatio);
          }
          //end see
          */

          var renderContext = {
            canvasContext: context,
            viewport: viewport
          };
          page.render(renderContext);
        }

        // Asynchronous download PDF
        var loadingTask = pdfjsLib.getDocument(url);
        loadingTask.promise.then(function(pdf) {

          // Fetch the first page
          pdf.getPage(2).then(function(page) {
              render(page, document.getElementById('wrapper1'), document.getElementById('page1'));
          });

          // Fetch the second page
          pdf.getPage(3).then(function(page) {
            render(page, document.getElementById('wrapper2'), document.getElementById('page2'));
          });

          // Fetch the third page
          pdf.getPage(4).then(function(page) {
            render(page, document.getElementById('wrapper3'), document.getElementById('page3'));
          });
        });
      </script>

    <!-- PAGES -->
    <!--
    <iframe id="sheet-pdf" src="./conditional_distributions.pdf#page=2">
    </iframe>
    <iframe id="sheet-pdf" src="./conditional_distributions.pdf#page=3">
    </iframe>
    -->
    <!-- PAGES -->

    </div>

    <!-- <iframe id="graph-pdf" src="./conditional_distributions-graph.pdf">
    </iframe>
    -->

    <span id="footer">
      Copyright 2022 The Bourbaki Authors. Version c38f38914.
    </span>
  </body>
</html>
