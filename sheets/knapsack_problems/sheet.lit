<!--yaml
name: knapsack_problems
needs:
    - optimization_problems
    - characteristic_functions
refs:
    - martello_and_roth/chapter_1
wikipedia: https://en.wikipedia.org/wiki/Knapsack_problem
-->

Â§ Why â¦‰
Â¶ â¦Š
  â€– Suppose we want to fill up a backpack by selecting from
    various objects which gives us differing amounts of comfort. â¦‰

  â€– We only have so much space in the backpack. â¦‰
â¦‰

Â§ Definition â¦‰
Â¶ â¦Š
  â€– Number the objects $1, â€¦, n$. â¦‰

  â€– Model the amount of space needed for a subset $H âŠ‚ \set{1,
    â€¦, n}$ of the $n$ items by $s(H)$; here $s: \powerset{S} â†’
    ğ—¥_+$. â¦‰

  â€– Model the comfort (or value) they provide by $v(H)$; here
    $v: \powerset{\set{1,â€¦, n}} â†’ ğ—¥$. â¦‰

  â€– Given a space constraint $c$, we want to find $H âŠ‚ P$ to â¦‰
  â—‡ â¦Š
    â€– \begin{aligned} â¦‰

    â€– \text{maximize} & \quad v(H) áœ¶ â¦‰

    â€– \text{subject to } & \quad s(H) â‰¤ c áœ¶ â¦‰

    â€– \end{aligned} â¦‰
  â¦‰

  â€– In other words, find the susbet of items which will fit in
    the bag and maximize the value. â¦‰

  â€– Such problems are called â¬knapsack problemsâ­. â¦‰
â¦‰

Â§Â§ Linear formulation â¦‰
Â¶ â¦Š
  â€– It is natural to expect the space constraint to be additive â¦‰

  â€– In other words $H âˆ© G = âˆ…$ means $s(H âˆª G) = s(H) +
    s(G)$, from which we conclude that the function is monotonic
    (using the fact that it is nonnegative). â¦‰

  â€– I.e., given $G âŠ‚ H$, we have $s(G) â‰¤ S(H)$. â¦‰

  â€– Suppose we also model the value function as additive. â¦‰

  â€– Given $H âˆ© G = âˆ…$, then $v(H âˆª G) = v(H) + v(G)$. â¦‰
â¦‰

Â¶ â¦Š
  â€– It turns out that additivity is sufficient to have a linear
    representation for both $s$ and $v$. â¦‰

  â€– For $H âŠ‚ P$, denote by $Ï‡_H: P â†’ \set{0,1}$ the
    characteristic function of $H$. â¦‰

  â€– In other words, $Ï‡_H$ is defined by
    â—‡ â¦Š
      â€– x_H(i) = \begin{cases} â¦‰

      â€– 1 & \text{ if } i âˆˆ H áœ¶ â¦‰

      â€– 0 & \text{ otherwise } â¦‰

      â€– \end{cases} â¦‰
    â¦‰â¦‰

  â€– Then there exists $p: \set{1, â€¦, n} â†’ ğ—¥$ and $w: \set{1,
    â€¦, n} â†’ ğ—¥_+$ such that
    â—‡ â¦Š
      â€– \textstyle â¦‰

      â€– v(H) = âˆ‘_{i = 1}^{n} p(i) Ï‡_H(i) \quad \text{for all }
        H âŠ‚ \set{1, â€¦, n} â¦‰
    â¦‰
    and
    â—‡ â¦Š
      â€– s(H) = âˆ‘_{i = 1}^{n} w(i) Ï‡_H(i) \quad \text{for all }
        H âŠ‚ \set{1, â€¦, n} â¦‰
    â¦‰â¦‰
â¦‰

Â¶ â¦Š
  â€– We can formulate the following problem: given $c âˆˆ ğ—¥_+$,
    $w: \set{0,1} â†’ ğ—¥_+$ and $p: \set{0,1}^n â†’ ğ—¥$, find $H âŠ‚
    \set{1, â€¦, n}$ to
    â—‡ â¦Š
      â€– \textstyle â¦‰

      â€– \begin{aligned} â¦‰

      â€– \text{maximize} & \quad \textstyle âˆ‘_{i = 1}^{n} p(i)
        Ï‡_{H}(i) áœ¶ â¦‰

      â€– \text{subject to} & \quad \textstyle âˆ‘_{i = 1}^{n} w_i
        Ï‡_{H}(i) â‰¤ c â¦‰

      â€– \end{aligned} â¦‰
    â¦‰â¦‰

  â€– It is common to identify $Ï‡_H$ with a list $x âˆˆ \{0,1\}^n$
    and to find $x$ to
    â—‡ â¦Š
      â€– \textstyle â¦‰

      â€– \begin{aligned} â¦‰

      â€– \text{maximize} & \quad \textstyle \sum_i p_i x_i áœ¶ â¦‰

      â€– \text{subject to} & \quad \textstyle âˆ‘_i w_i x_i â‰¤ c áœ¶ â¦‰

      â€– & \quad x_i âˆˆ \{0,1\} \text{ for all i } = 1, â€¦, n áœ¶ â¦‰

      â€– \end{aligned} â¦‰
    â¦‰â¦‰

  â€– This problem is often called the â¬zero-one knapsack problemâ­
    (or â¬0-1 knapsack problemâ­). â¦‰

  â€– The â€¹problem dataâ€º is the triple $(p, w, c)$. â¦‰
â¦‰

Â§Â§ Alternative perspectives â¦‰
Â¶ â¦Š
  â€– Suppose instead the $n$ objects are investments, the $i$th
    investment requiring $w_i$ investment, returning $p_i$. â¦‰

  â€– Given that we have $c$ dollars in capital, how should we
    allocate the funds to the investments to maximize return. â¦‰
â¦‰

Â¶ â¦Š
  â€– Other areas in which these problems are used as models
    include capital budgeting, cargo loading â¦‰
â¦‰

Â§Â§ Terminology â¦‰
Â¶ â¦Š
  â€– We generally refer to the $n$ â¬itemsâ­, the $i$th such item
    having â¬weightâ­ $w_i$ and profit $p_i$. â¦‰

  â€– Sometimes such problems are called â¬single knapsack problemsâ­
    (one container), in contrast with â¬multiple knapsack problemsâ­
    (in which there are multiple containers). â¦‰
â¦‰
  <tex>
    â€– \blankpage â¦‰
  </tex>
